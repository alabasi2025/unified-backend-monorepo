import { Injectable } from '@nestjs/common';
import { PrismaService } from '../../../prisma/prisma.service';

@Injectable()
export class NotebooksService {
  constructor(private prisma: PrismaService) {}

  // 1. create
  async create(data: any) {
    return this.prisma.notebook.create({ data });
  }

  // 2. findAll
  async findAll() {
    return this.prisma.notebook.findMany();
  }

  // 3. findOne
  async findOne(id: number) {
    return this.prisma.notebook.findUnique({ where: { id } });
  }

  // 4. update
  async update(id: number, data: any) {
    return this.prisma.notebook.update({ where: { id }, data });
  }

  // 5. delete
  async delete(id: number) {
    return this.prisma.notebook.delete({ where: { id } });
  }

  // 6. pin
  async pin(id: number) {
    return this.prisma.notebook.update({ where: { id }, data: { isPinned: true } });
  }

  // 7. favorite
  async favorite(id: number) {
    return this.prisma.notebook.update({ where: { id }, data: { isFavorite: true } });
  }

  // 8. archive
  async archive(id: number) {
    return this.prisma.notebook.update({ where: { id }, data: { isArchived: true } });
  }
}
